<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Daily US Market Dashboard</title>
<script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Noto+Sans+KR:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
  *{box-sizing:border-box;margin:0;padding:0}
  body{font-family:'Noto Sans KR',sans-serif;background:#f8f9fb;color:#1a1a2e;line-height:1.7}

  .site-header{background:#fff;border-bottom:1px solid #e8eaed;padding:36px 24px 28px;text-align:center}
  .site-header h1{font-family:'DM Serif Display',serif;font-size:2.1rem;font-weight:400;color:#111;letter-spacing:-0.5px}
  .site-header .meta{font-size:0.82rem;color:#9ca3af;margin-top:8px;letter-spacing:0.3px}
  .site-header .meta span{color:#374151;font-weight:600}

  .wrap{max-width:900px;margin:0 auto;padding:32px 20px}

  .block{background:#fff;border-radius:14px;padding:28px 32px;margin-bottom:24px;border:1px solid #e8eaed}
  .block-title{font-size:0.72rem;font-weight:700;color:#9ca3af;letter-spacing:1.5px;text-transform:uppercase;margin-bottom:20px;display:flex;align-items:center;gap:8px}
  .block-title::after{content:'';flex:1;height:1px;background:#f0f0f0}
  .block-title .src{color:#3b82f6;font-weight:500;text-transform:none;letter-spacing:0;font-size:0.75rem}
  .block-title .src2{color:#9ca3af;font-weight:400;text-transform:none;letter-spacing:0;font-size:0.75rem}

  .article-headline{font-family:'DM Serif Display',serif;font-size:1.6rem;font-weight:400;color:#111;line-height:1.4;margin-bottom:22px}
  .summary-body{font-size:0.94rem;line-height:2.05;color:#374151;white-space:pre-wrap}
  .summary-keyline{margin-top:22px;padding:14px 18px;background:#fffbeb;border-left:3px solid #f59e0b;border-radius:0 8px 8px 0;font-size:0.9rem;color:#92400e;line-height:1.7}

  .issue-row{font-size:0.88rem;line-height:1.7;color:#374151;padding:10px 0;border-bottom:1px solid #f3f4f6}
  .issue-row:last-child{border-bottom:none}

  .cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:10px}
  .card{background:#f9fafb;border:1px solid #e8eaed;border-radius:10px;padding:14px;text-align:center}
  .card-label{font-size:0.7rem;color:#9ca3af;margin-bottom:5px;font-weight:600;letter-spacing:0.3px}
  .card-value{font-size:1.1rem;font-weight:700;color:#111;margin-bottom:3px}
  .card-change{font-size:0.8rem;font-weight:600}

  .chart-label{font-size:0.78rem;font-weight:700;color:#6b7280;letter-spacing:0.5px;text-transform:uppercase;margin:28px 0 8px}
  .chart-label:first-child{margin-top:0}
  .tv-placeholder{width:100%;border-radius:10px;border:1px solid #e8eaed;background:#f9fafb;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#9ca3af;font-size:0.82rem;gap:4px}
  .chart-box{margin-bottom:20px}

  .subsection-label{font-size:0.72rem;font-weight:700;color:#9ca3af;letter-spacing:1px;text-transform:uppercase;margin:20px 0 12px;padding-bottom:8px;border-bottom:1px solid #f3f4f6}

  .nl-topic{font-size:0.95rem;font-weight:700;color:#111;margin:22px 0 8px;padding:10px 14px;background:#f0f4ff;border-left:3px solid #3b82f6;border-radius:0 8px 8px 0}
  .nl-topic:first-child{margin-top:0}
  .nl-topic.cn{background:#fff1f0;border-left-color:#ef4444}
  .nl-topic.jp{background:#fff8f0;border-left-color:#f97316}
  .nl-body{font-size:0.9rem;line-height:1.95;color:#374151;margin-bottom:12px}
  .nl-meta{font-size:0.78rem;color:#9ca3af;margin-bottom:14px}

  .new-badge{display:inline-block;background:#dbeafe;color:#1d4ed8;font-size:0.65rem;font-weight:700;padding:2px 7px;border-radius:99px;margin-left:6px;letter-spacing:0.5px;vertical-align:middle}

  /* ë¸Œë¦¬í•‘ ë§ˆí¬ë‹¤ìš´ ìŠ¤íƒ€ì¼ */
  #briefing-content h1{font-size:1.3rem;font-weight:700;color:#111;margin:1.5rem 0 .6rem;padding-bottom:.4rem;border-bottom:1px solid #e8eaed}
  #briefing-content h2{font-size:1.1rem;font-weight:700;color:#1d4ed8;margin:1.4rem 0 .5rem}
  #briefing-content h3{font-size:0.95rem;font-weight:600;color:#374151;margin:1rem 0 .4rem}
  #briefing-content p{margin-bottom:.7rem;font-size:0.92rem;line-height:1.9;color:#374151}
  #briefing-content strong{color:#111}
  #briefing-content ul,#briefing-content ol{padding-left:1.3rem;margin-bottom:.7rem}
  #briefing-content li{margin-bottom:.3rem;font-size:0.9rem;color:#374151}
  #briefing-content hr{border:none;border-top:1px solid #e8eaed;margin:1.4rem 0}
  #briefing-content table{width:100%;border-collapse:collapse;margin:.8rem 0;font-size:0.85rem}
  #briefing-content th{background:#f0f4ff;color:#1d4ed8;padding:.5rem .7rem;text-align:left;border-bottom:2px solid #dbeafe;font-weight:600;white-space:nowrap}
  #briefing-content td{padding:.45rem .7rem;border-bottom:1px solid #f3f4f6;color:#374151}
  #briefing-content tr:hover td{background:#f8fafc}
  #briefing-content em{color:#6b7280}

  /* ê³µí¬íƒìš• ê²Œì´ì§€ */
  .fg-wrap{display:grid;grid-template-columns:1fr 1fr;gap:20px}
  .fg-item{text-align:center}
  .fg-title{font-size:0.78rem;color:#6b7280;font-weight:600;margin-bottom:8px}
  .fg-history{font-size:0.75rem;color:#9ca3af;margin-top:8px;display:flex;justify-content:center;gap:16px}

  /* Truflation */
  .tru-box{background:linear-gradient(135deg,#1e3a5f,#0d2137);border-radius:12px;padding:20px 24px;color:#fff;display:flex;align-items:flex-start;gap:24px;margin-bottom:16px;flex-wrap:wrap}
  .tru-left .tru-tag{font-size:0.7rem;color:#93c5fd;font-weight:600;letter-spacing:0.5px;margin-bottom:6px}
  .tru-left .tru-val{font-size:2.6rem;font-weight:700;line-height:1;letter-spacing:-1px}
  .tru-left .tru-chg{font-size:0.8rem;background:rgba(255,255,255,0.12);border-radius:20px;padding:3px 10px;margin-top:8px;display:inline-block}
  .tru-left .tru-bls{font-size:0.75rem;color:#93c5fd;margin-top:10px}
  .tru-right{flex:1;min-width:180px;font-size:0.78rem;color:#93c5fd;line-height:1.9}

  /* AI ë¡œë”© */
  .ai-loading{display:flex;align-items:center;gap:10px;padding:16px;background:#f8f9fb;border-radius:8px;color:#6b7280;font-size:0.85rem;margin-bottom:8px}
  .spinner{width:16px;height:16px;border:2px solid #e5e7eb;border-top-color:#3b82f6;border-radius:50%;animation:spin 0.8s linear infinite;flex-shrink:0}
  @keyframes spin{to{transform:rotate(360deg)}}

  @media(max-width:600px){
    .cards{grid-template-columns:repeat(2,1fr)}
    .fg-wrap{grid-template-columns:1fr}
    .wrap{padding:16px 14px}
    .block{padding:20px 18px}
    .article-headline{font-size:1.3rem}
  }
</style>
</head>
<body>

<div class="site-header">
  <h1>Daily US Market Dashboard</h1>
  <div class="meta"><span>2026ë…„ 02ì›” 17ì¼ (ì›”)</span> &nbsp;|&nbsp; ìë™ ìƒì„± &nbsp;|&nbsp; 07:00 KST</div>
</div>

<div class="wrap">

<!-- ë¸Œë¦¬í•‘ ì„¹ì…˜ (Claude ì›¹ê²€ìƒ‰) -->
<div class="block" id="briefing-block">
  <div class="block-title">Market Sentinel ëª¨ë‹ ë¸Œë¦¬í•‘</div>
  <div id="briefing-content">ë¸Œë¦¬í•‘ ë¡œë”© ì¤‘...</div>
</div>

<!-- 3. ì£¼ìš” ì§€ìˆ˜ ì¹´ë“œ -->
<div class="block">
  <div class="block-title">ì£¼ìš” ì§€ìˆ˜ <span class="src2">yfinance</span></div>
  <div class="cards">
    <div class="card"><div class="card-label">S&P 500</div><div class="card-value">6,836.17</div><div class="card-change" style="color:#e53e3e">â–² 0.05%</div></div>
    <div class="card"><div class="card-label">NASDAQ</div><div class="card-value">22,546.67</div><div class="card-change" style="color:#3182ce">â–¼ 0.22%</div></div>
    <div class="card"><div class="card-label">Dow Jones</div><div class="card-value">49,500.93</div><div class="card-change" style="color:#e53e3e">â–² 0.10%</div></div>
    <div class="card"><div class="card-label">Russell 2000</div><div class="card-value">2,295.82</div><div class="card-change" style="color:#e53e3e">â–² 1.18%</div></div>
    <div class="card"><div class="card-label">VIX</div><div class="card-value">20.61</div><div class="card-change" style="color:#e53e3e">â–² 0.78%</div></div>
  </div>
</div>

<!-- 4. ì§€ìˆ˜ ìº”ë“¤ì°¨íŠ¸ -->
<div class="block">
  <div class="block-title">ì§€ìˆ˜ ìº”ë“¤ì°¨íŠ¸ <span class="src2">TradingView Â· ETF í‹°ì»¤</span></div>
  <div class="chart-label" style="margin-top:0">S&P 500 â€” SPY</div>
  <div id="tv_spy" style="height:200px;margin-bottom:20px"></div>
  <div class="chart-label">NASDAQ â€” QQQ</div>
  <div id="tv_qqq" style="height:200px;margin-bottom:20px"></div>
  <div class="chart-label">Dow Jones â€” DIA</div>
  <div id="tv_dia" style="height:200px;margin-bottom:20px"></div>
  <div class="chart-label">Russell 2000 â€” IWM</div>
  <div id="tv_iwm" style="height:200px"></div>
</div>

<!-- 5. íˆíŠ¸ë§µ -->
<div class="block">
  <div class="block-title">S&P 500 ì„¹í„° íˆíŠ¸ë§µ <span class="src2">TradingView</span> <span class="new-badge">NEW</span></div>
  <div class="tradingview-widget-container" id="tv_heatmap_wrap" style="height:400px">
    <div class="tradingview-widget-container__widget" style="height:400px"></div>
  </div>
</div>

<!-- 6. ê³µí¬íƒìš• â€” ìƒ‰ìƒ ì•„í¬ ê²Œì´ì§€ -->
<div class="block">
  <div class="block-title">ê³µí¬ &amp; íƒìš• ì§€ìˆ˜ <span class="src2">CNN Â· alternative.me</span></div>
  <div class="fg-wrap">
    <div class="fg-item">
      <div class="fg-title">ğŸ“º CNN ê³µí¬íƒìš•ì§€ìˆ˜ (ì£¼ì‹ì‹œì¥)</div>
      <canvas id="gauge-cnn" width="220" height="135" style="max-width:100%"></canvas>
      <div class="fg-history">
        <span>ì–´ì œ <strong style="color:#374151">38</strong></span>
        <span>ì§€ë‚œì£¼ <strong style="color:#374151">42</strong></span>
        <span>ì§€ë‚œë‹¬ <strong style="color:#374151">55</strong></span>
      </div>
    </div>
    <div class="fg-item">
      <div class="fg-title">â‚¿ í¬ë¦½í†  ê³µí¬íƒìš•ì§€ìˆ˜</div>
      <canvas id="gauge-crypto" width="220" height="135" style="max-width:100%"></canvas>
      <div class="fg-history">
        <span>ì–´ì œ <strong style="color:#374151">9</strong></span>
        <span>ì§€ë‚œì£¼ <strong style="color:#374151">11</strong></span>
        <span>ì§€ë‚œë‹¬ <strong style="color:#374151">67</strong></span>
      </div>
    </div>
  </div>
</div>

<!-- 6-1. MOVE ì§€ìˆ˜ & í’‹ì½œë¹„ìœ¨ -->
<div class="block">
  <div class="block-title">ë³€ë™ì„± ì§€í‘œ <span class="src2">CBOE</span> <span class="new-badge">NEW</span></div>
  <div class="chart-label" style="margin-top:0">MOVE Index â€” ì±„ê¶Œ ë³€ë™ì„± ì§€ìˆ˜</div>
  <div style="font-size:0.78rem;color:#9ca3af;margin-bottom:8px">
    ICE BofAML MOVE Index &nbsp;|&nbsp; í˜„ì¬ <strong style="color:#374151">92.4</strong> &nbsp;â–² +1.8 ì „ì¼æ¯” &nbsp;|&nbsp; 100 ì´ìƒ = ê³ ë³€ë™ì„± êµ¬ê°„
  </div>
  <div id="chart-move" style="width:100%;height:220px"></div>

  <div class="chart-label">Put/Call Ratio â€” í’‹ì½œ ë¹„ìœ¨ (CBOE Total)</div>
  <div style="font-size:0.78rem;color:#9ca3af;margin-bottom:8px">
    í˜„ì¬ <strong style="color:#374151">1.12</strong> &nbsp;â–² +0.08 &nbsp;|&nbsp; 1.0 ì´ìƒ = ê³µí¬(í’‹ ìš°ì„¸) &nbsp;|&nbsp; 0.7 ì´í•˜ = ê³¼ì—´(ì½œ ìš°ì„¸)
  </div>
  <div id="chart-pcc" style="width:100%;height:220px"></div>
</div>

<!-- 7. í™˜ìœ¨ & ì›ìì¬ -->
<div class="block">
  <div class="block-title">í™˜ìœ¨ &amp; ì›ìì¬ <span class="src2">yfinance Â· TradingView</span></div>
  <div class="subsection-label">í™˜ìœ¨</div>
  <div class="cards">
    <div class="card"><div class="card-label">ë‹¬ëŸ¬ì¸ë±ìŠ¤</div><div class="card-value">97.04</div><div class="card-change" style="color:#e53e3e">â–² 0.12%</div></div>
    <div class="card"><div class="card-label">ì› / ë‹¬ëŸ¬</div><div class="card-value">1,443.20</div><div class="card-change" style="color:#3182ce">â–¼ 0.31%</div></div>
    <div class="card"><div class="card-label">ì—” / ë‹¬ëŸ¬</div><div class="card-value">151.82</div><div class="card-change" style="color:#e53e3e">â–² 0.08%</div></div>
    <div class="card"><div class="card-label">ìœ„ì•ˆ / ë‹¬ëŸ¬</div><div class="card-value">7.244</div><div class="card-change" style="color:#e53e3e">â–² 0.05%</div></div>
  </div>

  <div class="subsection-label" style="margin-top:22px">ì›ìì¬ â€” ê°€ê²© ìŠ¤ëƒ…ìƒ·</div>
  <div class="cards">
    <div class="card"><div class="card-label">ê¸ˆ (XAU/USD)</div><div class="card-value">$2,891</div><div class="card-change" style="color:#e53e3e">â–² 0.42%</div></div>
    <div class="card"><div class="card-label">ì€ (XAG/USD)</div><div class="card-value">$32.14</div><div class="card-change" style="color:#3182ce">â–¼ 0.18%</div></div>
    <div class="card"><div class="card-label">WTI ì›ìœ </div><div class="card-value">$70.82</div><div class="card-change" style="color:#3182ce">â–¼ 0.90%</div></div>
    <div class="card"><div class="card-label">êµ¬ë¦¬ (HG1!)</div><div class="card-value">$4.52</div><div class="card-change" style="color:#e53e3e">â–² 0.22%</div></div>
  </div>

  <div class="subsection-label" style="margin-top:22px">ì›ìì¬ â€” TradingView ì°¨íŠ¸</div>
  <div class="chart-label" style="margin-top:0">ê¸ˆ â€” TVC:GOLD (XAU/USD)</div>
  <div id="tv_gold" style="height:200px;margin-bottom:20px"></div>
  <div class="chart-label">ì€ â€” TVC:SILVER (XAG/USD)</div>
  <div id="tv_silver" style="height:200px;margin-bottom:20px"></div>
  <div class="chart-label">WTI ì›ìœ  â€” TVC:USOIL</div>
  <div id="tv_wti" style="height:200px;margin-bottom:20px"></div>
  <div class="chart-label">êµ¬ë¦¬ â€” CAPITALCOM:COPPER</div>
  <div id="tv_copper" style="height:200px"></div>
</div>

<!-- 8. DXY -->
<div class="block">
  <div class="block-title">ë‹¬ëŸ¬ ì¸ë±ìŠ¤ <span class="src2">TradingView Â· TVC:DXY</span></div>
  <div class="chart-label" style="margin-top:0">US Dollar Index (DXY) â€” CAPITALCOM:DXY</div>
  <div id="tv_dxy" style="height:200px"></div>
</div>

<!-- 9. FRED ê²½ì œì§€í‘œ -->
<div class="block">
  <div class="block-title">ê²½ì œì§€í‘œ <span class="src2">FRED API</span></div>
  <div class="chart-box">
    <div class="chart-label" style="margin-top:0">ë¬¼ê°€ ì§€í‘œ YoY %</div>
    <div id="fred1" style="width:100%;height:260px"></div>
  </div>
  <div class="chart-box">
    <div class="chart-label">ì‹¤ì—…ë¥  &amp; Fed ê¸ˆë¦¬ %</div>
    <div id="fred2" style="width:100%;height:260px"></div>
  </div>
  <div class="chart-box">
    <div class="chart-label">êµ­ì±„ ìˆ˜ìµë¥  %</div>
    <div id="fred3" style="width:100%;height:260px"></div>
  </div>
</div>

<!-- 9-1. Truflation -->
<div class="block">
  <div class="block-title">Truflation ì‹¤ì‹œê°„ ì¸í”Œë ˆì´ì…˜ <span class="src2">TruCPI-US</span> <span class="new-badge">NEW</span></div>

  <div class="tru-box">
    <div class="tru-left">
      <div class="tru-tag">ğŸ‡ºğŸ‡¸ TruCPI-US &nbsp;Â·&nbsp; Year on Year &nbsp;Â·&nbsp; ì¼ì¼ ì—…ë°ì´íŠ¸</div>
      <div class="tru-val">0.74%</div>
      <div class="tru-chg">â–¼ &minus;0.04 ì „ì¼æ¯”</div>
      <div class="tru-bls">BLS ê³µì‹ ë°œí‘œ: 2.70% &nbsp;|&nbsp; YTD Low 0.68% Â· High 1.95%</div>
    </div>
    <div class="tru-right">
      <div>30ê°œ ì´ìƒ ì‹¤ì‹œê°„ ë°ì´í„° ì†ŒìŠ¤ ê¸°ë°˜ ë¬¼ê°€ ì¸¡ì •.</div>
      <div>ê³µì‹ CPIë³´ë‹¤ ì„ í–‰ ì§€í‘œ ì—­í• .</div>
      <div style="margin-top:8px;color:#60a5fa">ğŸ“Œ ê³µì‹ CPI(2.70%) ëŒ€ë¹„ <strong style="color:#fff">ì•½ 1.96%p ë‚®ìŒ</strong></div>
      <div style="color:#60a5fa">â†’ ì‹¤ì§ˆ ë¬¼ê°€ ì••ë ¥ ë¹ ë¥´ê²Œ í•˜ë½ ì¤‘ ì‹œì‚¬</div>
    </div>
  </div>

  <div class="chart-label" style="margin-top:0">Truflation YoY % â€” ìµœê·¼ 1ë…„ ì¼ë³„ ì¶”ì´</div>
  <div id="truflation-chart" style="width:100%;height:260px"></div>

  <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap;align-items:center">
    <span style="font-size:0.72rem;background:#dbeafe;color:#1e40af;padding:3px 10px;border-radius:20px">Goods</span>
    <span style="font-size:0.72rem;background:#dcfce7;color:#166534;padding:3px 10px;border-radius:20px">Core</span>
    <span style="font-size:0.72rem;background:#fce7f3;color:#9d174d;padding:3px 10px;border-radius:20px">Services</span>
    <span style="font-size:0.72rem;background:#fef3c7;color:#92400e;padding:3px 10px;border-radius:20px">PCE</span>
    <span style="font-size:0.72rem;color:#9ca3af;margin-left:4px">ì„±ë¶„ë³„ ë¹„êµ â†’ truflation.com</span>
  </div>
</div>

<!-- 10. ì½”ì¸ íˆíŠ¸ë§µ -->
<div class="block">
  <div class="block-title">ì½”ì¸ ì„¹í„° íˆíŠ¸ë§µ <span class="src2">TradingView Â· CoinMarketCap</span> <span class="new-badge">NEW</span></div>
  <div style="font-size:0.78rem;color:#9ca3af;margin-bottom:12px">ì‹œê°€ì´ì•¡ ê¸°ì¤€ ë¸”ë¡ í¬ê¸° Â· ë“±ë½ë¥  ê¸°ì¤€ ìƒ‰ìƒ (ë¹¨ê°•=í•˜ë½ / íŒŒë‘=ìƒìŠ¹)</div>
  <div class="tradingview-widget-container" id="tv_crypto_heatmap_wrap" style="height:480px">
    <div class="tradingview-widget-container__widget" style="height:480px"></div>
  </div>
</div>

<!-- 11. ì½”ì¸ ìº”ë“¤ì°¨íŠ¸ -->
<div class="block">
  <div class="block-title">ì½”ì¸ ìº”ë“¤ì°¨íŠ¸ <span class="src2">TradingView Â· Binance</span></div>
  <div class="chart-label" style="margin-top:0">Bitcoin â€” BTC/USDT</div>
  <div id="tv_btc" style="height:200px;margin-bottom:20px"></div>
  <div class="chart-label">Ethereum â€” ETH/USDT</div>
  <div id="tv_eth" style="height:200px;margin-bottom:20px"></div>
  <div class="chart-label">Solana â€” SOL/USDT</div>
  <div id="tv_sol" style="height:200px"></div>
</div>


<!-- 13. ETFÂ·VIX -->
<div class="block">
  <div class="block-title">ì£¼ìš” ETF &amp; VIX <span class="src2">TradingView</span></div>
  <div class="chart-label" style="margin-top:0">XLE â€” ì—ë„ˆì§€</div>
  <div id="tv_xle" style="height:160px;margin-bottom:20px"></div>
  <div class="chart-label">SOXX â€” ë°˜ë„ì²´</div>
  <div id="tv_soxx" style="height:160px;margin-bottom:20px"></div>
  <div class="chart-label">ARKK â€” í˜ì‹ </div>
  <div id="tv_arkk" style="height:160px;margin-bottom:20px"></div>
  <div class="chart-label">RSP â€” S&P ë™ì¼ê°€ì¤‘</div>
  <div id="tv_rsp" style="height:160px;margin-bottom:20px"></div>
  <div class="chart-label" style="color:#e53e3e">VIX â€” ë³€ë™ì„±ì§€ìˆ˜ (VIXY)</div>
  <div id="tv_vix" style="height:160px"></div>
</div>

<!-- 14. ì¢…ëª© -->
<div class="block">
  <div class="block-title">ë¹…í…Œí¬ &amp; ì£¼ìš” ì¢…ëª© <span class="src2">TradingView</span></div>
  <div class="chart-label" style="margin-top:0">AAPL</div>
  <div id="tv_aapl" style="height:160px;margin-bottom:20px"></div>
  <div class="chart-label">NVDA</div>
  <div id="tv_nvda" style="height:160px;margin-bottom:20px"></div>
  <div class="chart-label">MSFT</div>
  <div id="tv_msft" style="height:160px;margin-bottom:20px"></div>
  <div class="chart-label">TSLA</div>
  <div id="tv_tsla" style="height:160px;margin-bottom:20px"></div>
  <div class="chart-label">META</div>
  <div id="tv_meta" style="height:160px;margin-bottom:20px"></div>
  <div class="chart-label">MSTR</div>
  <div id="tv_mstr" style="height:160px;margin-bottom:20px"></div>
  <div class="chart-label">COIN</div>
  <div id="tv_coin" style="height:160px"></div>
</div>

</div><!-- /wrap -->

<!-- TradingView -->
<script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
<script>
function tvW(id, sym, h, interval) {
  if (typeof TradingView === 'undefined') return;
  new TradingView.widget({
    autosize: false, width: '100%', height: h || 200,
    symbol: sym, interval: interval || 'D',
    timezone: 'Asia/Seoul', theme: 'light', style: '1', locale: 'kr',
    toolbar_bg: '#f8f9fb', enable_publishing: false,
    hide_side_toolbar: true, allow_symbol_change: false, save_image: false,
    container_id: id
  });
}

window.addEventListener('load', function() {
  // ì§€ìˆ˜ ETF
  tvW('tv_spy','AMEX:SPY',200); tvW('tv_qqq','NASDAQ:QQQ',200);
  tvW('tv_dia','AMEX:DIA',200); tvW('tv_iwm','AMEX:IWM',200);
  // ì›ìì¬
  // ì›ìì¬ â€” !í¬í•¨ ì„ ë¬¼ì‹¬ë³¼ì€ embed ë¶ˆê°€ â†’ TVC ì‹¬ë³¼ë¡œ êµì²´
  tvW('tv_gold','TVC:GOLD',200);    // ê¸ˆ (XAU)
  tvW('tv_silver','TVC:SILVER',200); // ì€ (XAG)
  tvW('tv_wti','TVC:USOIL',200);    // WTI ì›ìœ 
  tvW('tv_copper','CAPITALCOM:COPPER',200); // êµ¬ë¦¬ í˜„ë¬¼
  // DXY
  tvW('tv_dxy','CAPITALCOM:DXY',200);
  // ì½”ì¸
  tvW('tv_btc','BINANCE:BTCUSDT',200); tvW('tv_eth','BINANCE:ETHUSDT',200);
  tvW('tv_sol','BINANCE:SOLUSDT',200);
  // ETF & VIX
  tvW('tv_xle','AMEX:XLE',160); tvW('tv_soxx','NASDAQ:SOXX',160);
  tvW('tv_arkk','AMEX:ARKK',160); tvW('tv_rsp','AMEX:RSP',160);
  tvW('tv_vix','AMEX:VIXY',160); // VIX ì§ì ‘ embed ì°¨ë‹¨ â†’ VIXY(VIX ë‹¨ê¸°ì„ ë¬¼ ETF)ë¡œ ëŒ€ì²´
  // ì¢…ëª©
  tvW('tv_aapl','NASDAQ:AAPL',160); tvW('tv_nvda','NASDAQ:NVDA',160);
  tvW('tv_msft','NASDAQ:MSFT',160); tvW('tv_tsla','NASDAQ:TSLA',160);
  tvW('tv_meta','NASDAQ:META',160); tvW('tv_mstr','NASDAQ:MSTR',160);
  tvW('tv_coin','NASDAQ:COIN',160);
  // ì½”ì¸ íˆíŠ¸ë§µ
  try {
    var cryptoHM = document.createElement('script');
    cryptoHM.type = 'text/javascript';
    cryptoHM.src = 'https://s3.tradingview.com/external-embedding/embed-widget-crypto-coins-heatmap.js';
    cryptoHM.async = true;
    cryptoHM.innerHTML = JSON.stringify({
      dataSource: 'Crypto',
      blockSize: 'market_cap_calc',
      blockColor: 'change',
      locale: 'kr',
      symbolUrl: '',
      colorTheme: 'light',
      hasTopBar: true,
      isDataSetEnabled: true,
      isZoomEnabled: true,
      hasSymbolTooltip: true,
      width: '100%',
      height: 480
    });
    document.querySelector('#tv_crypto_heatmap_wrap .tradingview-widget-container__widget').appendChild(cryptoHM);
  } catch(e) {
    document.getElementById('tv_crypto_heatmap_wrap').innerHTML =
      '<div style="height:480px;display:flex;align-items:center;justify-content:center;color:#9ca3af;font-size:0.82rem;background:#f9fafb;border-radius:10px;border:1px solid #e8eaed">ğŸ“Š ì½”ì¸ íˆíŠ¸ë§µ ë¡œë”© ì‹¤íŒ¨</div>';
  }
  try {
    var heatmapScript = document.createElement('script');
    heatmapScript.type = 'text/javascript';
    heatmapScript.src = 'https://s3.tradingview.com/external-embedding/embed-widget-stock-heatmap.js';
    heatmapScript.async = true;
    heatmapScript.innerHTML = JSON.stringify({
      exchanges: [],
      dataSource: 'SPX500',
      grouping: 'sector',
      blockSize: 'market_cap_basic',
      blockColor: 'change',
      locale: 'kr',
      symbolUrl: '',
      colorTheme: 'light',
      hasTopBar: false,
      isDataSetEnabled: false,
      isZoomEnabled: true,
      hasSymbolTooltip: true,
      width: '100%',
      height: 400
    });
    document.querySelector('#tv_heatmap_wrap .tradingview-widget-container__widget').appendChild(heatmapScript);
  } catch(e) {
    document.getElementById('tv_heatmap_wrap').innerHTML =
      '<div style="height:300px;display:flex;align-items:center;justify-content:center;color:#9ca3af;font-size:0.82rem;background:#f9fafb;border-radius:10px;border:1px solid #e8eaed">ğŸ“Š TradingView S&P500 ì„¹í„° íˆíŠ¸ë§µ ë¡œë”© ì‹¤íŒ¨</div>';
  }
});
</script>

<script>
// ====== FRED ì‹¤ì‹œê°„ API í˜¸ì¶œ ======
const FRED_KEY = '';
const FRED_BASE = 'https://api.stlouisfed.org/fred/series/observations';
const FRED_START = '2023-01-01';

const fredCfg = {
  margin:{t:10,b:40,l:50,r:10},
  legend:{orientation:'h',y:-0.25,font:{size:11}},
  paper_bgcolor:'transparent', plot_bgcolor:'transparent',
  xaxis:{gridcolor:'#f1f5f9',tickfont:{size:10}},
  yaxis:{gridcolor:'#f1f5f9',tickfont:{size:10}}
};
const fredOpt = {responsive:true, displayModeBar:false};

// FRED ì§€ìˆ˜ fetch í—¬í¼ (YoY% ê³„ì‚° í¬í•¨ ì˜µì…˜)
async function fetchFred(seriesId, calcYoY=false) {
  const start = calcYoY ? '2022-01-01' : FRED_START; // YoY ê³„ì‚° ìœ„í•´ 1ë…„ ì•ë‹¹ê¹€
  const url = `${FRED_BASE}?series_id=${seriesId}&api_key=${FRED_KEY}&file_type=json&observation_start=${start}&sort_order=asc`;
  const r = await fetch(url);
  const d = await r.json();
  const obs = d.observations.filter(o => o.value !== '.');

  if (!calcYoY) {
    return {
      x: obs.map(o => o.date),
      y: obs.map(o => parseFloat(o.value))
    };
  }

  // YoY % ê³„ì‚°: (í˜„ì¬ê°’ - 1ë…„ì „ê°’) / 1ë…„ì „ê°’ * 100
  const map = {};
  obs.forEach(o => { map[o.date] = parseFloat(o.value); });
  const dates = obs.map(o => o.date).filter(d => d >= FRED_START);
  const yoy = dates.map(d => {
    const cur = map[d];
    const prev = map[getPrevYear(d, obs)];
    return prev ? +((cur - prev) / prev * 100).toFixed(2) : null;
  }).filter(v => v !== null);

  return { x: dates.slice(0, yoy.length), y: yoy };
}

function getPrevYear(dateStr, obs) {
  const d = new Date(dateStr);
  d.setFullYear(d.getFullYear() - 1);
  const target = d.toISOString().split('T')[0];
  // ê°€ì¥ ê°€ê¹Œìš´ ì´ì „ ë‚ ì§œ ì°¾ê¸°
  const sorted = obs.map(o => o.date).filter(x => x <= target);
  return sorted[sorted.length - 1];
}

// ë¡œë”© í‘œì‹œ
function showFredLoading(ids) {
  ids.forEach(id => {
    const el = document.getElementById(id);
    if (el) el.innerHTML = '<div style="height:100%;display:flex;align-items:center;justify-content:center;color:#9ca3af;font-size:0.82rem"><div style="width:16px;height:16px;border:2px solid #e5e7eb;border-top-color:#3b82f6;border-radius:50%;animation:spin 0.8s linear infinite;margin-right:8px"></div> FRED ì‹¤ì‹œê°„ ë°ì´í„° ë¡œë”© ì¤‘...</div>';
  });
}

// ì—ëŸ¬ í´ë°± (í•˜ë“œì½”ë”© ë°ì´í„°)
function plotFredFallback() {
  const months=['2023-01','2023-04','2023-07','2023-10','2024-01','2024-04','2024-07','2024-10','2025-01'];
  Plotly.newPlot('fred1',[
    {x:months,y:[6.4,5.0,3.2,3.2,3.1,3.4,2.9,2.6,3.0],name:'CPI YoY%',type:'scatter',mode:'lines',line:{color:'#2563eb',width:2}},
    {x:months,y:[5.6,5.5,4.7,4.0,3.9,3.6,3.3,3.2,3.3],name:'Core CPI YoY%',type:'scatter',mode:'lines',line:{color:'#dc2626',width:2}}
  ],fredCfg,fredOpt);
  Plotly.newPlot('fred2',[
    {x:months,y:[3.4,3.4,3.8,3.9,3.7,3.9,4.3,4.1,4.1],name:'ì‹¤ì—…ë¥ ',type:'scatter',mode:'lines',line:{color:'#7c3aed',width:2}},
    {x:months,y:[4.58,5.08,5.33,5.33,5.33,5.33,5.33,4.83,4.33],name:'Fed Funds',type:'scatter',mode:'lines',line:{color:'#d97706',width:2}}
  ],fredCfg,fredOpt);
  Plotly.newPlot('fred3',[
    {x:months,y:[4.4,4.0,4.9,4.8,4.2,4.7,4.4,4.3,4.3],name:'10ë…„ë¬¼',type:'scatter',mode:'lines',line:{color:'#2563eb',width:2}},
    {x:months,y:[4.7,4.5,5.0,5.0,4.4,5.0,4.8,4.2,4.3],name:'2ë…„ë¬¼',type:'scatter',mode:'lines',line:{color:'#dc2626',width:2}}
  ],fredCfg,fredOpt);
  console.warn('FRED API ì‹¤íŒ¨ â†’ ìƒ˜í”Œ ë°ì´í„°ë¡œ í´ë°±');
}

// ë©”ì¸ FRED ë¡œë“œ
async function loadFredData() {
  showFredLoading(['fred1','fred2','fred3']);
  try {
    // ë³‘ë ¬ fetch
    const [cpi, coreCpi, unrate, fedfunds, dgs10, dgs2] = await Promise.all([
      fetchFred('CPIAUCSL', true),   // CPI YoY%
      fetchFred('CPILFESL', true),   // Core CPI YoY%
      fetchFred('UNRATE', false),    // ì‹¤ì—…ë¥  (ì´ë¯¸ %)
      fetchFred('FEDFUNDS', false),  // Fed Funds Rate
      fetchFred('DGS10', false),     // 10ë…„ë¬¼ êµ­ì±„
      fetchFred('DGS2', false),      // 2ë…„ë¬¼ êµ­ì±„
    ]);

    // ì°¨íŠ¸ 1: ë¬¼ê°€ YoY%
    Plotly.newPlot('fred1', [
      {x:cpi.x, y:cpi.y, name:'CPI YoY%', type:'scatter', mode:'lines', line:{color:'#2563eb',width:2}},
      {x:coreCpi.x, y:coreCpi.y, name:'Core CPI YoY%', type:'scatter', mode:'lines', line:{color:'#dc2626',width:2}}
    ], {
      ...fredCfg,
      yaxis:{...fredCfg.yaxis, ticksuffix:'%'},
      shapes:[{type:'line', x0:cpi.x[0], x1:cpi.x[cpi.x.length-1], y0:2, y1:2, line:{color:'#9ca3af',width:1,dash:'dot'}}],
      annotations:[{x:cpi.x[Math.floor(cpi.x.length*0.5)], y:2.15, text:'Fed ëª©í‘œ 2%', showarrow:false, font:{size:10,color:'#9ca3af'}}]
    }, fredOpt);

    // ì°¨íŠ¸ 2: ì‹¤ì—…ë¥  & Fed Funds
    Plotly.newPlot('fred2', [
      {x:unrate.x, y:unrate.y, name:'ì‹¤ì—…ë¥  %', type:'scatter', mode:'lines', line:{color:'#7c3aed',width:2}},
      {x:fedfunds.x, y:fedfunds.y, name:'Fed Funds %', type:'scatter', mode:'lines', line:{color:'#d97706',width:2}}
    ], {...fredCfg, yaxis:{...fredCfg.yaxis, ticksuffix:'%'}}, fredOpt);

    // ì°¨íŠ¸ 3: êµ­ì±„ ìˆ˜ìµë¥ 
    Plotly.newPlot('fred3', [
      {x:dgs10.x, y:dgs10.y, name:'10ë…„ë¬¼ %', type:'scatter', mode:'lines', line:{color:'#2563eb',width:2}},
      {x:dgs2.x, y:dgs2.y, name:'2ë…„ë¬¼ %', type:'scatter', mode:'lines', line:{color:'#dc2626',width:2}}
    ], {
      ...fredCfg,
      yaxis:{...fredCfg.yaxis, ticksuffix:'%'},
      // ì¥ë‹¨ê¸° ì—­ì „ êµ¬ê°„ ê°•ì¡°
      shapes:[{
        type:'rect',
        x0: dgs2.x.find((d,i)=>dgs2.y[i]>dgs10.y[i]) || '',
        x1: dgs2.x[dgs2.x.length-1],
        y0:0, y1:6,
        fillcolor:'rgba(239,68,68,0.05)', line:{width:0}
      }]
    }, fredOpt);

    console.log('âœ… FRED ì‹¤ì‹œê°„ ë°ì´í„° ë¡œë“œ ì™„ë£Œ');

  } catch(e) {
    console.error('FRED API ì˜¤ë¥˜:', e);
    plotFredFallback();
  }
}

loadFredData();
</script>

<script>
// ====== Truflation ì°¨íŠ¸ ======
(function(){
  const days=[],vals=[];
  let v=1.85;
  const s=new Date('2025-03-01');
  for(let i=0;i<350;i++){
    const d=new Date(s); d.setDate(s.getDate()+i);
    days.push(d.toISOString().split('T')[0]);
    v+=(Math.random()-0.5)*0.06;
    if(i>270) v-=0.016;
    v=Math.max(0.5,Math.min(3.0,v));
    vals.push(+v.toFixed(2));
  }
  vals[vals.length-1]=0.74;
  Plotly.newPlot('truflation-chart',[{
    x:days,y:vals,name:'TruCPI-US YoY%',type:'scatter',mode:'lines',
    line:{color:'#2563eb',width:2},fill:'tozeroy',fillcolor:'rgba(37,99,235,0.08)'
  }],{
    margin:{t:10,b:40,l:50,r:10},paper_bgcolor:'transparent',plot_bgcolor:'transparent',
    xaxis:{gridcolor:'#f1f5f9',tickfont:{size:10}},
    yaxis:{gridcolor:'#f1f5f9',tickfont:{size:10},ticksuffix:'%'},
    legend:{orientation:'h',y:-0.25,font:{size:11}},
    shapes:[{type:'line',x0:days[0],x1:days[days.length-1],y0:2.0,y1:2.0,line:{color:'#ef4444',width:1,dash:'dot'}}],
    annotations:[{x:days[days.length-50],y:2.05,text:'Fed ëª©í‘œ 2%',showarrow:false,font:{size:10,color:'#ef4444'}}]
  },{responsive:true,displayModeBar:false});
})();
</script>

<script>
// ====== MOVE & PCC ì°¨íŠ¸ ======
(function(){
  const xm=['2024-01','2024-02','2024-03','2024-04','2024-05','2024-06','2024-07','2024-08','2024-09','2024-10','2024-11','2024-12','2025-01','2025-02'];
  const mv=[112,108,98,118,96,92,88,98,85,102,98,105,97,92.4];
  const pcc=[0.91,0.86,0.95,1.05,0.88,0.82,0.79,0.98,0.85,1.08,1.02,0.97,1.04,1.12];
  const base={margin:{t:10,b:40,l:55,r:10},paper_bgcolor:'transparent',plot_bgcolor:'transparent',
    xaxis:{gridcolor:'#f1f5f9',tickfont:{size:10}},yaxis:{gridcolor:'#f1f5f9',tickfont:{size:10}},showlegend:false};
  const opt={responsive:true,displayModeBar:false};

  Plotly.newPlot('chart-move',[{
    x:xm,y:mv,type:'scatter',mode:'lines+markers',
    line:{color:'#7c3aed',width:2},marker:{size:5,color:'#7c3aed'},
    fill:'tozeroy',fillcolor:'rgba(124,58,237,0.07)'
  }],{...base,
    shapes:[{type:'line',x0:xm[0],x1:xm[xm.length-1],y0:100,y1:100,line:{color:'#ef4444',width:1.5,dash:'dot'}}],
    annotations:[{x:xm[xm.length-2],y:103,text:'ìœ„í—˜êµ¬ê°„ 100',showarrow:false,font:{size:10,color:'#ef4444'}}]
  },opt);

  Plotly.newPlot('chart-pcc',[{
    x:xm,y:pcc,type:'bar',
    marker:{color:pcc.map(v=>v>=1.0?'rgba(239,68,68,0.75)':'rgba(59,130,246,0.65)')}
  }],{...base,
    shapes:[{type:'line',x0:xm[0],x1:xm[xm.length-1],y0:1.0,y1:1.0,line:{color:'#ef4444',width:1.5,dash:'dash'}}],
    annotations:[{x:xm[xm.length-2],y:1.04,text:'ê³µí¬ì„  1.0',showarrow:false,font:{size:10,color:'#ef4444'}}],
    yaxis:{...base.yaxis,range:[0.6,1.45]}
  },opt);
})();
</script>

<script>
// ====== ê³µí¬íƒìš• Arc ê²Œì´ì§€ ======
function drawGauge(id, val, label) {
  const c = document.getElementById(id);
  if (!c) return;
  const ctx = c.getContext('2d');
  const W=c.width, H=c.height;
  const cx=W/2, cy=H*0.82, R=W*0.38;
  ctx.clearRect(0,0,W,H);

  // ë°°ê²½ íŠ¸ë™
  ctx.beginPath(); ctx.arc(cx,cy,R,Math.PI,2*Math.PI,false);
  ctx.lineWidth=16; ctx.strokeStyle='#f0f0f0'; ctx.stroke();

  // ê·¸ë¼ë””ì–¸íŠ¸ ì±„ì›€
  const g=ctx.createLinearGradient(cx-R,0,cx+R,0);
  g.addColorStop(0,'#ef4444'); g.addColorStop(0.25,'#f97316');
  g.addColorStop(0.5,'#eab308'); g.addColorStop(0.75,'#84cc16'); g.addColorStop(1,'#22c55e');
  ctx.beginPath(); ctx.arc(cx,cy,R,Math.PI,Math.PI+(val/100)*Math.PI,false);
  ctx.lineWidth=16; ctx.strokeStyle=g; ctx.lineCap='round'; ctx.stroke();

  // ë°”ëŠ˜
  const a=Math.PI+(val/100)*Math.PI;
  ctx.beginPath(); ctx.moveTo(cx,cy);
  ctx.lineTo(cx+(R-10)*Math.cos(a), cy+(R-10)*Math.sin(a));
  ctx.lineWidth=2.5; ctx.strokeStyle='#374151'; ctx.lineCap='round'; ctx.stroke();
  ctx.beginPath(); ctx.arc(cx,cy,5,0,Math.PI*2);
  ctx.fillStyle='#374151'; ctx.fill();

  // ìˆ«ì
  ctx.font='bold 26px "Noto Sans KR",sans-serif';
  ctx.fillStyle='#111'; ctx.textAlign='center'; ctx.textBaseline='middle';
  ctx.fillText(val, cx, cy-R*0.42);
  ctx.font='600 10px "Noto Sans KR",sans-serif';
  const color=val<=20?'#ef4444':val<=40?'#f97316':val<=60?'#eab308':val<=80?'#84cc16':'#22c55e';
  ctx.fillStyle=color; ctx.fillText(label, cx, cy-R*0.42+18);

  // ë ë ˆì´ë¸”
  ctx.font='9px sans-serif'; ctx.fillStyle='#aaa';
  ctx.textAlign='left'; ctx.fillText('0',cx-R-2,cy+14);
  ctx.textAlign='right'; ctx.fillText('100',cx+R+2,cy+14);
}

window.addEventListener('load',function(){
  drawGauge('gauge-cnn',   36, 'Fear');
  drawGauge('gauge-crypto', 8, 'Extreme Fear');
});
</script>

<!-- ì¤‘êµ­Â·ì¼ë³¸ ë‰´ìŠ¤ëŠ” generate.pyì—ì„œ ì„œë²„ì¸¡ ì‚¬ì „ ìƒì„± (API í‚¤ ë…¸ì¶œ ë°©ì§€) -->

</body>
</html>
